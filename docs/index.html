<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1">
<title>NEEO SDK 0.48.13 &#8212; NEEO Brain SDK. For examples see https://github.com/NEEOInc/neeo-sdk-examples.</title>
<meta name="description" content="NEEO Brain SDK. For examples see https://github.com/NEEOInc/neeo-sdk-examples.">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
<style>

input[type="search"]::-webkit-search-cancel-button {
    -webkit-appearance: searchfield-cancel-button;
}

.jumbotron {
    margin-bottom: 0;
    border-radius: 0;
    background-color: #2B303E;
    -webkit-font-smoothing: antialiased;
}

.jumbotron h1 {
    font-size: 3.5rem;
    line-height: 1;
}

.jumbotron h1,
.jumbotron h1 a {
    color: #eee;
}

.jumbotron small {
    font-weight: 200;
    color: #777;
}

.jumbotron p {
    font-size: 1.5rem;
    font-weight: 200;
    line-height: 1.2;
    color: #ccc;
}

.wrap {
    padding: 2rem 1rem;
}

.search {
    margin: 0 0 1rem 0;
    width: 90%;
}

.menu {
    padding: 0;
}

.menu li {
    list-style: none;
}

.menu li ul {
    padding: 0;
}

.menu li a {
    display: block;
    padding: .25rem;
    overflow: hidden;
    text-overflow: ellipsis;
}

.menu .file {
    color: #E54D89;
}

.menu .file + ul {
    margin: 0 0 1rem 0;
}

.menu .scope-private a {
    color: #8BAAC6;
}

.method {
    margin: 0 0 4rem 0;
}

.method .method-name {
    display: inline-block;
    width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.method .method-name + .scope-private {
    color: #AAAAAA;
}

.method section {
    margin: 2rem 0;
}

.method h3 {
    margin: 0 0 1rem 0;
}

.method .table,
.method .table p,
.method .table ol,
.method .table ul {
    margin: 0;
}

.permalink {
    position: absolute;
    margin-left: -1em;
    font-weight: normal;
    color: #eee;
    text-decoration: none;
}

.permalink:hover {
    color: #E54D89;
}

.back-to-top {
    display: none;
    position: fixed;
    right: 1rem;
    bottom: 1rem;
    padding: .5rem .6rem;
    line-height: 1;
    background: #fff;
    z-index: 999;
}

.back-to-top.visible {
    display: block;
}

.back-to-top svg {
    vertical-align: middle;
}

.bs-footer {
    margin: 3rem auto;
    color: #777;
    text-align: center;
}

</style>
</head>

<body>

<a href="#" class="back-to-top"><svg xmlns="http://www.w3.org/2000/svg" width="13px" height="14px" viewBox="0 0 13 14"><path d="M7.18761156,13 L7.18761156,5.49249703 L10.4587853,5.49249703 L5.09931763,0.113558129 L-0.26015,5.49249703 L3.01102371,5.49249703 L3.01102371,13 L7.18761156,13 Z" fill="#428bca"></path></svg> Back to Top</a>

<div class="jumbotron">

    <div class="container">

        <h1>
                NEEO SDK
            <small>0.48.13</small>
        </h1>

        <p>NEEO Brain SDK. For examples see https://github.com/NEEOInc/neeo-sdk-examples.</p>

    </div>

</div>

<div class="wrap">

    <div class="container">

        <div class="row">

            <div class="col-md-3 hidden-sm hidden-xs">

                <input type="search" class="form-control search" id="search-methods" placeholder="Search..." autocomplete="off">

                <ul class="menu">


                    <li>
                        <a href="#lib/device/devicebuilder.js" class="file"><b>lib/device/devicebuilder.js</b></a>
                        <ul>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-setmanufacturer" title="setManufacturer">setManufacturer</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-settype" title="setType">setType</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-addadditionalsearchtoken" title="addAdditionalSearchToken">addAdditionalSearchToken</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-enablediscovery" title="enableDiscovery">enableDiscovery</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-supportstiming" title="supportsTiming">supportsTiming</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-definetiming" title="defineTiming">defineTiming</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-registersubscriptionfunction" title="registerSubscriptionFunction">registerSubscriptionFunction</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-registerinitialisefunction" title="registerInitialiseFunction">registerInitialiseFunction</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-addbutton" title="addButton">addButton</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-addbuttongroup" title="addButtonGroup">addButtonGroup</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-addbuttonhandler" title="addButtonHandler">addButtonHandler</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-addslider" title="addSlider">addSlider</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-addsensor" title="addSensor">addSensor</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-addpowerstatesensor" title="addPowerStateSensor">addPowerStateSensor</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-addswitch" title="addSwitch">addSwitch</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-addtextlabel" title="addTextLabel">addTextLabel</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-addimageurl" title="addImageUrl">addImageUrl</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-devicebuilder.js-addcapability" title="addCapability">addCapability</a>
                        </li>


                        </ul>

                    </li>


                    <li>
                        <a href="#lib/device/implementationservices/devicestate.js" class="file"><b>lib/device/implementationservices/devicestate.js</b></a>
                        <ul>


                        <li class="method-link scope-public">
                            <a href="#lib-device-implementationservices-devicestate.js-adddevice" title="addDevice">addDevice</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-implementationservices-devicestate.js-getalldevices" title="getAllDevices">getAllDevices</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-implementationservices-devicestate.js-getclientobjectifreachable" title="getClientObjectIfReachable">getClientObjectIfReachable</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-implementationservices-devicestate.js-getcachepromise" title="getCachePromise">getCachePromise</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-implementationservices-devicestate.js-updatereachable" title="updateReachable">updateReachable</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-device-implementationservices-devicestate.js-buildinstance" title="buildInstance">buildInstance</a>
                        </li>


                        </ul>

                    </li>


                    <li>
                        <a href="#lib/index.js" class="file"><b>lib/index.js</b></a>
                        <ul>


                        <li class="method-link scope-public">
                            <a href="#lib-index.js-module.exports.discoveronebrain" title="discoverOneBrain">discoverOneBrain</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-index.js-module.exports.getrecipes" title="getRecipes">getRecipes</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-index.js-module.exports.getrecipespowerstate" title="getRecipesPowerState">getRecipesPowerState</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-index.js-module.exports.builddevice" title="buildDevice">buildDevice</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-index.js-module.exports.builddevicestate" title="buildDeviceState">buildDeviceState</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-index.js-module.exports.startserver" title="startServer">startServer</a>
                        </li>


                        <li class="method-link scope-public">
                            <a href="#lib-index.js-module.exports.stopserver" title="stopServer">stopServer</a>
                        </li>


                        </ul>

                    </li>


                </ul>

            </div>

            <div class="col-md-9">


                <a id="lib/device/devicebuilder.js"></a>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-setmanufacturer">
                            <a href="#lib-device-devicebuilder.js-setmanufacturer" class="permalink">#</a>
                            <span class="method-name" title="setManufacturer(manufacturerName)">setManufacturer(manufacturerName)</span>
                        </h2>

                        <div class="description lead">

                            <p>Optional parameter to set the device manufacturer. Default manufacturer is NEEO</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>manufacturerName</td>
                                        <td>
                                            <code>string</code>
                                        </td>
                                        <td><p>used to find and add the device in the NEEO app.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.setManufacturer(<span class="hljs-string">'NEEO'</span>)</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-settype">
                            <a href="#lib-device-devicebuilder.js-settype" class="permalink">#</a>
                            <span class="method-name" title="setType(type)">setType(type)</span>
                        </h2>

                        <div class="description lead">

                            <p>Optional parameter to define the device type. Default type is ACCESSOIRE. It is used to determine the display style and wiring suggestions in the NEEO app. Please note, ACCESSOIRE devices do not generate a view but can be used in other views as shortcut.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>type</td>
                                        <td>
                                            <code>string</code>
                                        </td>
                                        <td><p>supported device classes, either 'ACCESSORY', 'AVRECEIVER', 'DVB' (aka. satellite receiver), 'DVD' (aka. disc player), 'GAMECONSOLE', 'LIGHT', 'MEDIAPLAYER', 'PROJECTOR', 'TV' or 'VOD' (aka. Video-On-Demand box like Apple TV, Fire TV...)</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.setType(<span class="hljs-string">'light'</span>)</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-addadditionalsearchtoken">
                            <a href="#lib-device-devicebuilder.js-addadditionalsearchtoken" class="permalink">#</a>
                            <span class="method-name" title="addAdditionalSearchToken(token)">addAdditionalSearchToken(token)</span>
                        </h2>

                        <div class="description lead">

                            <p>Optional parameter define additional search tokens the user can enter in the NEEO App &quot;Add Device&quot; section.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>token</td>
                                        <td>
                                            <code>string</code>
                                        </td>
                                        <td><p>additional search keyword</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">neeoapi.buildDevice(<span class="hljs-string">'My Device Name'</span>)
       .addAdditionalSearchToken(<span class="hljs-string">'MDN'</span>)</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-enablediscovery">
                            <a href="#lib-device-devicebuilder.js-enablediscovery" class="permalink">#</a>
                            <span class="method-name" title="enableDiscovery(messages, controller)">enableDiscovery(messages, controller)</span>
                        </h2>

                        <div class="description lead">

                            <p>Register a discovery function for your device. This function can be only defined once per device definition.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>messages</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which contains (optional) <strong>headerText</strong> and <strong>description</strong>, this text will be displayed before the user starts the discovery process</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>controller</td>
                                        <td>
                                            <code>function</code>
                                        </td>
                                        <td><p>Callback function which will be called when the NEEO brain search your device. This function should return an array of found devices, each object with an <strong>id</strong> attribute (unique device identifier, for example mac address), <strong>name</strong> the display name and the optional <strong>reachable</strong> attribute (true: device is reachable, false: device is not reachable)</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.enableDiscovery(
  {
    <span class="hljs-attr">headerText</span>: <span class="hljs-string">'HELLO HEADER'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">'ADD SOME ADDITIONAL INFORMATION HOW TO PREPARE YOUR DEVICE'</span>
  },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
   <span class="hljs-keyword">return</span> [
     {
       <span class="hljs-attr">id</span>: <span class="hljs-string">'unique-device-id-001'</span>,
       <span class="hljs-attr">name</span>: <span class="hljs-string">'first device'</span>,
     },
     {
       <span class="hljs-attr">id</span>: <span class="hljs-string">'unique-device-id-002'</span>,
       <span class="hljs-attr">name</span>: <span class="hljs-string">'second device, but not reachable'</span>,
       <span class="hljs-attr">reachable</span>: <span class="hljs-literal">false</span>
     }
   ];
  }
)</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-supportstiming">
                            <a href="#lib-device-devicebuilder.js-supportstiming" class="permalink">#</a>
                            <span class="method-name" title="supportsTiming()">supportsTiming()</span>
                        </h2>

                        <div class="description lead">

                            <p>This function allows you to check if the current device type supports timing related information.</p>


                        </div>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">   <span class="hljs-keyword">if</span> (device.supportsTiming()) { }</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>boolean</code>
                                    </p>

                                    <p>Whether timing is supported or not</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-definetiming">
                            <a href="#lib-device-devicebuilder.js-definetiming" class="permalink">#</a>
                            <span class="method-name" title="defineTiming(param)">defineTiming(param)</span>
                        </h2>

                        <div class="description lead">

                            <p>This function allows you to define timing related information, which will be used to generate the recipe.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>param</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which contains at least one of the following attributes:</p>
<ul>
<li><strong>powerOnDelayMs</strong>, how long does it take (in ms) until the device is powered on and is ready to accept new commands</li>
<li><strong>sourceSwitchDelayMs</strong>,: how long does it take (in ms) until the device switched input and is ready to accept new commands</li>
<li><strong>shutdownDelayMs</strong>: how long does it take (in ms) until the device is powered off and is ready to accept new commands</li>
</ul>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">   .defineTiming({ <span class="hljs-attr">powerOnDelayMs</span>: <span class="hljs-number">2000</span>, <span class="hljs-attr">sourceSwitchDelayMs</span>: <span class="hljs-number">500</span>, <span class="hljs-attr">shutdownDelayMs</span>: <span class="hljs-number">1000</span> })</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-registersubscriptionfunction">
                            <a href="#lib-device-devicebuilder.js-registersubscriptionfunction" class="permalink">#</a>
                            <span class="method-name" title="registerSubscriptionFunction(controller)">registerSubscriptionFunction(controller)</span>
                        </h2>

                        <div class="description lead">

                            <p>This is used for devices which need to send dynamic value updates (for example switches or sliders state) to the Brain they are registered on. When the device is added to a Brain the SDK will call the controller function with an update function as argument (aka. inject the function). This function can be used to then send updates to the Brain when the value of the device updates.
For example a device with a physical slider can use this to keep the digital slider in sync. This function can be only defined once per device definition.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>controller</td>
                                        <td>
                                            <code>function</code>
                                        </td>
                                        <td><p>Callback function which will be called when the NEEO SDK Server starts, to register the update notification callback function and optional callback functions. OptionalCallbacks: if the device supports power state (see <strong>addPowerStateSensor</strong>) this additional callbacks are present: <strong>powerOnNotificationFunction</strong> - call this function with its deviceid when the device powers on.
<strong>powerOffNotificationFunction</strong> - call this function with its deviceid when the device powers on</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript"><span class="hljs-keyword">let</span> updateCallbackReference, markDeviceOn, markDeviceOff;
deviceBuilder.registerSubscriptionFunction(<span class="hljs-function">(<span class="hljs-params">updateCallback, optionalCallbackFunctions</span>) =&gt;</span> {
  updateCallbackReference = updateCallback;
  <span class="hljs-keyword">if</span> (optionalCallbackFunctions &amp;&amp; optionalCallbackFunctions.powerOnNotificationFunction) {
    markDeviceOn = optionalCallbackFunctions.powerOnNotificationFunction;
  }
  <span class="hljs-keyword">if</span> (optionalCallbackFunctions &amp;&amp; optionalCallbackFunctions.powerOffNotificationFunction) {
    markDeviceOff = optionalCallbackFunctions.powerOffNotificationFunction;
  }
});

<span class="hljs-comment">// Update sensor at some later point</span>
<span class="hljs-keyword">if</span> (updateCallbackReference) {
  sendComponentUpdate({
    <span class="hljs-attr">uniqueDeviceId</span>: uniqueDeviceId,
    <span class="hljs-attr">component</span>: nameOfDeviceComponent, <span class="hljs-comment">// slider or switch</span>
    value: updatedSensorValue
  });
}</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-registerinitialisefunction">
                            <a href="#lib-device-devicebuilder.js-registerinitialisefunction" class="permalink">#</a>
                            <span class="method-name" title="registerInitialiseFunction(controller)">registerInitialiseFunction(controller)</span>
                        </h2>

                        <div class="description lead">

                            <p>for example: start polling for devicestate, initialise service</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>controller</td>
                                        <td>
                                            <code>function</code>
                                        </td>
                                        <td><p>Callback function which will be called when the device should be initialised. Controller must return a value or a promise object.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">
.registerInitialiseFunction(controller.initialise)


<span class="hljs-comment">// Example code in the controller:</span>
<span class="hljs-built_in">module</span>.exports.initialise = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  debug(<span class="hljs-string">'initialise LIFX service, start polling'</span>);
  lifxService = <span class="hljs-keyword">new</span> LifxService(deviceState);
  setInterval(pollAllLifxDevices, DEVICE_POLL_TIME_MS);
};</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-addbutton">
                            <a href="#lib-device-devicebuilder.js-addbutton" class="permalink">#</a>
                            <span class="method-name" title="addButton(param)">addButton(param)</span>
                        </h2>

                        <div class="description lead">

                            <p>Add a button for this device, can be called multiple times for multiple buttons. addButton can be combined with addButtonGroups. You need to be call the addButtonHandler function. <strong>IMPORTANT:</strong> If your device supports a discrete &quot;Power On&quot; and &quot;Power Off&quot; command,
name the macros like in the example below. In that case the NEEO Brain automatically recognise this feature and those commands to in the prebuild
Recipes.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>param</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which contains <strong>name</strong> (identifier of this element), <strong>label</strong> (optional, visible label in the mobile app or on the NEEO Remote)</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.addButton({ <span class="hljs-attr">name</span>: <span class="hljs-string">'POWER ON'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'Power On'</span> })
.addButton({ <span class="hljs-attr">name</span>: <span class="hljs-string">'POWER OFF'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'Power Off'</span> })
.addButtonHandler(<span class="hljs-function">(<span class="hljs-params">deviceid, name</span>) =&gt;</span> {
  <span class="hljs-comment">// handle button events here</span>
})</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-addbuttongroup">
                            <a href="#lib-device-devicebuilder.js-addbuttongroup" class="permalink">#</a>
                            <span class="method-name" title="addButtonGroup(name)">addButtonGroup(name)</span>
                        </h2>

                        <div class="description lead">

                            <p>Add multiple buttons defined by the button group name. The UI elements on the NEEO Brain are build automatically depending on the existing buttons of a device. You can add multiple ButtonGroups to a device and you can combine ButtonGroups with addButton calls. You need to be call the addButtonHandler function.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>name</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>A button name group</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.addButtonGroup(<span class="hljs-string">'Numpad'</span>)
.addButtonHandler(<span class="hljs-function">(<span class="hljs-params">name, deviceid</span>) =&gt;</span> {
  <span class="hljs-comment">// handle button events here</span>
})</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-addbuttonhandler">
                            <a href="#lib-device-devicebuilder.js-addbuttonhandler" class="permalink">#</a>
                            <span class="method-name" title="addButtonHandler(controller)">addButtonHandler(controller)</span>
                        </h2>

                        <div class="description lead">

                            <p>Handles the events for all the registered buttons. This function can be only defined once per device definition and MUST be defined if you have added at least one button.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>controller</td>
                                        <td>
                                            <code>function</code>
                                        </td>
                                        <td><p>Callback function which will be called one of the registered button triggered from the Brain.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.addButtonHandler(<span class="hljs-function">(<span class="hljs-params">name, deviceid</span>) =&gt;</span> {
   <span class="hljs-keyword">if</span> (name === <span class="hljs-string">'power-on'</span>) {
     <span class="hljs-comment">// Power on</span>
   } <span class="hljs-keyword">else</span> {
     <span class="hljs-comment">// Power off</span>
   }
});</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-addslider">
                            <a href="#lib-device-devicebuilder.js-addslider" class="permalink">#</a>
                            <span class="method-name" title="addSlider(param, controller)">addSlider(param, controller)</span>
                        </h2>

                        <div class="description lead">

                            <p>Add a (range) slider to your custom device</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>param</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which contains <strong>name</strong> (identifier of this element), <strong>label</strong> (optional, visible label in the mobile app or on the NEEO Remote), <strong>range</strong> (optional, custom range of slider, default 0..100), <strong>unit</strong> (optional user readable label, default %)</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>controller</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which contains a getter and setter callback function.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.addSlider(   { <span class="hljs-attr">name</span>: <span class="hljs-string">'example-slider'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'my slider'</span>, <span class="hljs-attr">range</span>: [<span class="hljs-number">0</span>,<span class="hljs-number">200</span>], <span class="hljs-attr">unit</span>: <span class="hljs-string">'%'</span> },
  { <span class="hljs-attr">setter</span>: <span class="hljs-function">(<span class="hljs-params">newValue</span>) =&gt;</span> sensorValue = newValue, <span class="hljs-attr">getter</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> sensorValue ) }
)</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-addsensor">
                            <a href="#lib-device-devicebuilder.js-addsensor" class="permalink">#</a>
                            <span class="method-name" title="addSensor(param, controller)">addSensor(param, controller)</span>
                        </h2>

                        <div class="description lead">

                            <p>Add a (range) sensor to your custom device</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>param</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which contains <strong>name</strong> (identifier of this element), <strong>label</strong> (optional, visible label in the mobile app or on the NEEO Remote), <strong>range</strong> (optional, custom range of slider, default 0..100), <strong>unit</strong> (optional user readable label, default %)</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>controller</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which contains a getter callback function.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.addSensor(   { <span class="hljs-attr">name</span>: <span class="hljs-string">'example-sensor'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'my sensor'</span>, <span class="hljs-attr">range</span>: [<span class="hljs-number">0</span>,<span class="hljs-number">200</span>], <span class="hljs-attr">unit</span>: <span class="hljs-string">'%'</span> },
  { <span class="hljs-attr">getter</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> sensorValue ) }
)</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-addpowerstatesensor">
                            <a href="#lib-device-devicebuilder.js-addpowerstatesensor" class="permalink">#</a>
                            <span class="method-name" title="addPowerStateSensor(controller)">addPowerStateSensor(controller)</span>
                        </h2>

                        <div class="description lead">

                            <p>Add a power sensor to your custom device, so the NEEO Brain knows when this device is powered on or off. See <strong>registerSubscriptionFunction</strong> how the controller can send powerOn and powerOff notifications to the Brain.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>controller</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which contains a getter callback function, the function must return true or false as value or wrapped in a promise</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.addPowerStateSensor(   { <span class="hljs-attr">getter</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> sensorValue ) }
)</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-addswitch">
                            <a href="#lib-device-devicebuilder.js-addswitch" class="permalink">#</a>
                            <span class="method-name" title="addSwitch(param, controller)">addSwitch(param, controller)</span>
                        </h2>

                        <div class="description lead">

                            <p>Add a (binary) switch to your custom element</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>param</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which contains <strong>name</strong> (identifier of this element), <strong>label</strong> (optional, visible label in the mobile app or on the NEEO Remote)</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>controller</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which contains a getter and setter callback function.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.addSwitch(
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'example-switch'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'my switch'</span> },
  { <span class="hljs-attr">setter</span>: <span class="hljs-function">(<span class="hljs-params">newValue</span>) =&gt;</span> switchState = newValue, <span class="hljs-attr">getter</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> switchState ) }
 )</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceBuilder for chaining.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-addtextlabel">
                            <a href="#lib-device-devicebuilder.js-addtextlabel" class="permalink">#</a>
                            <span class="method-name" title="addTextLabel(param, controller)">addTextLabel(param, controller)</span>
                        </h2>

                        <div class="description lead">

                            <p>Add a text label to your custom element (for example to display the current artist)</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>param</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which contains <strong>name</strong> (identifier of this element), <strong>label</strong> (text label content)</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>controller</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which returns the content of the text label.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.addTextLabel(
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'artistname'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'Artist name'</span> },
  controller.getArtist
 )</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>object</code>
                                    </p>

                                    <p>DeviceBuilder</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-addimageurl">
                            <a href="#lib-device-devicebuilder.js-addimageurl" class="permalink">#</a>
                            <span class="method-name" title="addImageUrl(param, controller)">addImageUrl(param, controller)</span>
                        </h2>

                        <div class="description lead">

                            <p>Add an image to your custom element (for example to display the album cover of the current track)</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>param</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which contains <strong>name</strong> (identifier of this element), <strong>label</strong> (optional, alternative image text), <strong>uri</strong> (address pointing to an image resource), <strong>size</strong> (image size in the ui, either 'small' or 'large'). The small image has the size of a button while the large image is a square image using full width of the client. JPG and PNG images are supported.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>controller</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>An object which returns the address to the current image.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.addImageUrl(
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'albumcover'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'Cover for current album'</span>, <span class="hljs-attr">size</span>: <span class="hljs-string">'small'</span> },
  controller.getImageUri
)</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>object</code>
                                    </p>

                                    <p>DeviceBuilder</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-devicebuilder.js-addcapability">
                            <a href="#lib-device-devicebuilder.js-addcapability" class="permalink">#</a>
                            <span class="method-name" title="addCapability(capability)">addCapability(capability)</span>
                        </h2>

                        <div class="description lead">

                            <p>Define additional device capabilities, currently supported capabilities (case sensitive): - &quot;alwaysOn&quot; - the device does not need to be powered on to be useable. You don't need to specify 'POWER ON' and 'POWER OFF' buttons and the device is not identified as &quot;Stupid device&quot;</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>capability</td>
                                        <td>
                                            <code>string</code>
                                        </td>
                                        <td></td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">.addCapability(<span class="hljs-string">'alwaysOn'</span>)</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>object</code>
                                    </p>

                                    <p>DeviceBuilder</p>




                        </section>

                    </div>



                <a id="lib/device/implementationservices/devicestate.js"></a>


                    <div class="method scope-public">

                        <h2 id="lib-device-implementationservices-devicestate.js-adddevice">
                            <a href="#lib-device-implementationservices-devicestate.js-adddevice" class="permalink">#</a>
                            <span class="method-name" title="addDevice(id, clientobject, reachable)">addDevice(id, clientobject, reachable)</span>
                        </h2>

                        <div class="description lead">

                            <p>Adds a new device state to the instance.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>id</td>
                                        <td>
                                            <code>integer</code>
                                        </td>
                                        <td><p>a unique key to identify an entry</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>clientobject</td>
                                        <td>
                                            <code>object</code>
                                        </td>
                                        <td><p>any object which is linked to this unique identifier.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>reachable</td>
                                        <td>
                                            <code>boolean</code>
                                        </td>
                                        <td><p>this optional parameter defines if this device is currently reachable. Defaults to true.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">  <span class="hljs-keyword">this</span>.lifxClient.on(<span class="hljs-string">'light-new'</span>, (lifx) =&gt; {
    debug(<span class="hljs-string">'discovered new light'</span>, lifx.id);
    deviceState.addDevice(lifx.id, lifx);
  });</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>


                            <p><code>Void</code></p>


                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-implementationservices-devicestate.js-getalldevices">
                            <a href="#lib-device-implementationservices-devicestate.js-getalldevices" class="permalink">#</a>
                            <span class="method-name" title="getAllDevices()">getAllDevices()</span>
                        </h2>

                        <div class="description lead">

                            

                        </div>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">discoverDevices</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> allDevices = deviceState.getAllDevices();
    <span class="hljs-keyword">return</span> allDevices
      .map(<span class="hljs-function">(<span class="hljs-params">deviceEntry</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">id</span>: deviceEntry.id,
          <span class="hljs-attr">name</span>: deviceEntry.clientObject.label,
          <span class="hljs-attr">reachable</span>: deviceEntry.reachable
        };
      });
  };</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>Array</code>
                                    </p>

                                    <p>Returns all devices (client object, id, reachable state) this instance knows..</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-implementationservices-devicestate.js-getclientobjectifreachable">
                            <a href="#lib-device-implementationservices-devicestate.js-getclientobjectifreachable" class="permalink">#</a>
                            <span class="method-name" title="getClientObjectIfReachable(id)">getClientObjectIfReachable(id)</span>
                        </h2>

                        <div class="description lead">

                            <p>Gets the device state when the device is reachable. Used if you want to interact with the device state.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>id</td>
                                        <td>
                                            <code>integer</code>
                                        </td>
                                        <td><p>a unique key to identify an entry.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">  <span class="hljs-keyword">const</span> light = deviceState.getClientObjectIfReachable(deviceId);
  <span class="hljs-keyword">if</span> (!light) {
    <span class="hljs-keyword">return</span> BluePromise.reject(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'NOT_REACHABLE'</span>));
  }
  <span class="hljs-keyword">return</span> light.turnOn();</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>Object</code>
                                    </p>

                                    <p>The stored device state if the device is reachable OR undefined when device is NOT reachable.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-implementationservices-devicestate.js-getcachepromise">
                            <a href="#lib-device-implementationservices-devicestate.js-getcachepromise" class="permalink">#</a>
                            <span class="method-name" title="getCachePromise(id)">getCachePromise(id)</span>
                        </h2>

                        <div class="description lead">

                            <p>Fetching data from a network device is expensive. The cachePromise helps by caching the device state for a certain amount of time. The CachePromise wraps the expensive call - either the cached device state is returned or when the cache is empty or expired a new device state is fetched.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>id</td>
                                        <td>
                                            <code>integer</code>
                                        </td>
                                        <td><p>a unique key to identify an entry.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">    getState(deviceId) {
      <span class="hljs-keyword">const</span> light = <span class="hljs-keyword">this</span>.deviceState.getClientObjectIfReachable(deviceId);

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getLampState</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BluePromise(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
          light.getState(<span class="hljs-function">(<span class="hljs-params">err, state</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (err) {
              reject(err);
            }
            resolve(state);
          });
        });
      }

      <span class="hljs-keyword">return</span> deviceState
        .getCachePromise(deviceId)
        .getValue(getLampState);
    }</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>Object</code>
                                    </p>

                                    <p>A cachedPromise object, you can call the getValue function which either returns the cached state or fetches a new state.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-implementationservices-devicestate.js-updatereachable">
                            <a href="#lib-device-implementationservices-devicestate.js-updatereachable" class="permalink">#</a>
                            <span class="method-name" title="updateReachable(id, reachable)">updateReachable(id, reachable)</span>
                        </h2>

                        <div class="description lead">

                            <p>Update the reachability state (online/offline) of a device.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>id</td>
                                        <td>
                                            <code>integer</code>
                                        </td>
                                        <td><p>a unique key to identify an entry.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>reachable</td>
                                        <td>
                                            <code>boolean</code>
                                        </td>
                                        <td><p>this parameter defines if this device is online (true) or offline (false).</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">  <span class="hljs-keyword">this</span>.lifxClient.on(<span class="hljs-string">'light-online'</span>, (lifx) =&gt; {
    debug(<span class="hljs-string">'light-online'</span>, lifx.id);
    deviceState.updateReachable(lifx.id, <span class="hljs-literal">true</span>);
  });
  <span class="hljs-keyword">this</span>.lifxClient.on(<span class="hljs-string">'light-offline'</span>, (lifx) =&gt; {
    debug(<span class="hljs-string">'light-offline'</span>, lifx.id);
    deviceState.updateReachable(lifx.id, <span class="hljs-literal">false</span>);
  });</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>


                            <p><code>Void</code></p>


                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-device-implementationservices-devicestate.js-buildinstance">
                            <a href="#lib-device-implementationservices-devicestate.js-buildinstance" class="permalink">#</a>
                            <span class="method-name" title="buildInstance(cacheTimeMs)">buildInstance(cacheTimeMs)</span>
                        </h2>

                        <div class="description lead">

                            <p>Builds a new instance of the DeviceState.</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>cacheTimeMs</td>
                                        <td>
                                            <code>integer</code>
                                        </td>
                                        <td><p>how long should a devicestate be cached, optional parameter, default is 2000ms.</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>DeviceState object.</p>




                        </section>

                    </div>



                <a id="lib/index.js"></a>


                    <div class="method scope-public">

                        <h2 id="lib-index.js-module.exports.discoveronebrain">
                            <a href="#lib-index.js-module.exports.discoveronebrain" class="permalink">#</a>
                            <span class="method-name" title="discoverOneBrain()">discoverOneBrain()</span>
                        </h2>

                        <div class="description lead">

                            <p>Returns a promise to the first NEEO Brain discovered on the local network.</p>


                        </div>




                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>promise</code>
                                    </p>

                                    <p>promise contains the found NEEOBrain.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-index.js-module.exports.getrecipes">
                            <a href="#lib-index.js-module.exports.getrecipes" class="permalink">#</a>
                            <span class="method-name" title="getRecipes(NEEOBrain)">getRecipes(NEEOBrain)</span>
                        </h2>

                        <div class="description lead">

                            <p>Get all existing recipes of a NEEO Brain</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>NEEOBrain</td>
                                        <td>
                                            <code>Object</code>
                                            <code>String</code>
                                        </td>
                                        <td><p>to connect or an IP/hostname to connect</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>promise</code>
                                    </p>

                                    <p>promise contains an array of all recipes of the selected NEEO Brain.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-index.js-module.exports.getrecipespowerstate">
                            <a href="#lib-index.js-module.exports.getrecipespowerstate" class="permalink">#</a>
                            <span class="method-name" title="getRecipesPowerState(NEEOBrain)">getRecipesPowerState(NEEOBrain)</span>
                        </h2>

                        <div class="description lead">

                            <p>Get all powered on recipes of a NEEO Brain</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>NEEOBrain</td>
                                        <td>
                                            <code>Object</code>
                                            <code>String</code>
                                        </td>
                                        <td><p>to connect or an IP/hostname to connect</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">neeoapi.getRecipesPowerState(brain)
.then(<span class="hljs-function">(<span class="hljs-params">poweredOnKeys</span>) =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'- Power state fetched, powered on recipes:'</span>, poweredOnKeys);
})</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>Promise</code>
                                    </p>

                                    <p>promise contains an array with powerKey's of the powered on recipes.</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-index.js-module.exports.builddevice">
                            <a href="#lib-index.js-module.exports.builddevice" class="permalink">#</a>
                            <span class="method-name" title="buildDevice(DeviceName)">buildDevice(DeviceName)</span>
                        </h2>

                        <div class="description lead">

                            <p>Create new device factory, builds a searchable device for the NEEO Brain</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>DeviceName</td>
                                        <td>
                                            <code>String</code>
                                        </td>
                                        <td><p>The device name</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript"> neeoapi.buildDevice(<span class="hljs-string">'simpleDevice1'</span>)
   .setManufacturer(<span class="hljs-string">'NEEO'</span>)
   .addAdditionalSearchToken(<span class="hljs-string">'foo'</span>)
   .setType(<span class="hljs-string">'light'</span>)
   .addButton({ <span class="hljs-attr">name</span>: <span class="hljs-string">'example-button'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'my button'</span> }, controller.button)
   .addSwitch({ <span class="hljs-attr">name</span>: <span class="hljs-string">'example-switch'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'my switch'</span> },
     { <span class="hljs-attr">setter</span>: controller.switchSet, <span class="hljs-attr">getter</span>: controller.switchGet })
   .addSlider({ <span class="hljs-attr">name</span>: <span class="hljs-string">'example-slider'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'my slider'</span>, <span class="hljs-attr">range</span>: [<span class="hljs-number">0</span>,<span class="hljs-number">110</span>], <span class="hljs-attr">unit</span>: <span class="hljs-string">'%'</span> },
     { <span class="hljs-attr">setter</span>: controller.sliderSet, <span class="hljs-attr">getter</span>: controller.sliderGet });</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceBuilder</code>
                                    </p>

                                    <p>factory methods to build device</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-index.js-module.exports.builddevicestate">
                            <a href="#lib-index.js-module.exports.builddevicestate" class="permalink">#</a>
                            <span class="method-name" title="buildDeviceState(cacheTimeMs)">buildDeviceState(cacheTimeMs)</span>
                        </h2>

                        <div class="description lead">

                            <p>This function builds a new DeviceState Object which helps organise client states, cache states and reachability</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>cacheTimeMs</td>
                                        <td>
                                            <code>integer</code>
                                        </td>
                                        <td><p>how long should a devicestate be cached (optional, default is 2000ms)</p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript"> <span class="hljs-keyword">const</span> deviceState = neeoapi.buildDeviceState(<span class="hljs-number">2000</span>);</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>DeviceState</code>
                                    </p>

                                    <p>a new DeviceState instance</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-index.js-module.exports.startserver">
                            <a href="#lib-index.js-module.exports.startserver" class="permalink">#</a>
                            <span class="method-name" title="startServer(configuration)">startServer(configuration)</span>
                        </h2>

                        <div class="description lead">

                            <p>Starts the internal REST server (based on Express.js) and register this adapter on the NEEO Brain - so the Brain can find this adapter</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>configuration</td>
                                        <td>
                                            <code>Object</code>
                                        </td>
                                        <td><ul>
<li>Configuration Object with <strong>brain</strong> (NEEOBrain object), <strong>port</strong> (listening port), device <strong>name</strong> and all associated <strong>devices</strong>. Optionally you can add <strong>baseurl</strong> to define the listening ip - handy if you have multiple IP's or running in a docker container.</li>
</ul>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">neeoapi.startServer({
  brain,
  <span class="hljs-attr">port</span>: <span class="hljs-number">6336</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'custom-adapter'</span>,
  <span class="hljs-attr">devices</span>: [device1, device2]
});</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>Promise</code>
                                    </p>

                                    <p>will be resolved when adapter is registered and REST server is started</p>




                        </section>

                    </div>


                    <div class="method scope-public">

                        <h2 id="lib-index.js-module.exports.stopserver">
                            <a href="#lib-index.js-module.exports.stopserver" class="permalink">#</a>
                            <span class="method-name" title="stopServer(JSON)">stopServer(JSON)</span>
                        </h2>

                        <div class="description lead">

                            <p>Stops the internal REST server and unregister this adapter on the NEEO Brain</p>


                        </div>


                        <section class="parameters">

                            <h3>Parameters</h3>

                            <div class="table-responsive">
                                <table class="table">

                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Type</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                    <tr>
                                        <td>JSON</td>
                                        <td>
                                            <code>Object</code>
                                        </td>
                                        <td><p>Object with <strong>brain</strong> Object and <strong>adapter name</strong></p>
</td>
                                        <td>
                                        </td>
                                    </tr>
                                    </tbody>

                                </table>
                            </div>

                        </section>




                        <section class="examples">

                            <h3>Examples</h3>


                                <pre><code class="hljs javascript">neeoapi.stopServer({ <span class="hljs-attr">brain</span>: brain, <span class="hljs-attr">name</span>: <span class="hljs-string">'custom-adapter'</span> });</code></pre>


                        </section>


                        <section class="returns">

                            <h3>Returns</h3>



                                    <p>
                                            <code>Promise</code>
                                    </p>

                                    <p>will be resolved when adapter is unregistered and REST server is stopped</p>




                        </section>

                    </div>



            </div>

        </div>

    </div>

</div>

<footer class="bs-footer">

    <div class="container">

        <p>Documentation generated with <a href="https://github.com/neogeek/doxdox">doxdox</a>.</p>

    </div>

</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>

(function () {

    'use strict';

    var headerHeight = $('.jumbotron').outerHeight(true),
        $backToTop = $('.back-to-top');

    function handleScrollEvent() {

        if (window.scrollY > headerHeight && $backToTop.not('.visible')) {

            $backToTop.addClass('visible');

        } else if (window.scrollY < headerHeight && $backToTop.is('.visible')) {

            $backToTop.removeClass('visible');

        }

    }

    $('pre code:not(.hljs)').each(function () {
        hljs.highlightBlock(this);
    });

    var $searchInput = $('#search-methods');
    var $methodLinks = $('.method-link');
    var $methodNames = $('.method .method-name');

    var urlQuery = window.location.search.match(/q=([^&]+)/);

    $searchInput.on('keyup', function (e) {

        var query = new RegExp(e.target.value.replace(' ', '|'), 'ig');

        $methodLinks.each(function () {

            var $this = $(this);

            if (!$this.text().match(query)) {

                $this.hide();

            } else {

                $this.show();

            }

        });

        $methodNames.each(function () {

            var $this = $(this);

            if (!$this.text().match(query)) {

                $this.closest('.method').hide();

            } else {

                $this.closest('.method').show();

            }

        });

        window.history.replaceState({}, '', window.location.pathname + '?q=' + e.target.value);

    });

    $searchInput.on('search', function () {

        $searchInput.trigger('keyup');

    });

    if (urlQuery && urlQuery.length > 1) {

        $searchInput.val(urlQuery[1]).trigger('keyup');

    }

    $(window).on('scroll', handleScrollEvent);

    handleScrollEvent();

})();

</script>

</body>
</html>
